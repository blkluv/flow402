(()=>{var e={};e.id=572,e.ids=[572],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},6005:e=>{"use strict";e.exports=require("node:crypto")},1041:e=>{"use strict";e.exports=require("node:url")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},8050:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>d,pages:()=>u,routeModule:()=>p,tree:()=>c}),r(5242),r(2846),r(5866);var s=r(3191),a=r(8716),l=r(7922),n=r.n(l),i=r(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let c=["",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5242)),"/Users/thewizardofhahz/flow402/app/create/page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2846)),"/Users/thewizardofhahz/flow402/app/layout.jsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/thewizardofhahz/flow402/app/create/page.jsx"],d="/create/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/create/page",pathname:"/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4802:(e,t,r)=>{Promise.resolve().then(r.bind(r,6846))},1597:(e,t,r)=>{Promise.resolve().then(r.bind(r,9643))},1448:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},6846:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(326),a=r(7577),l=r(4185);let n=process.env.NEXT_PUBLIC_BACKEND_URL||"https://flowserver.onrender.com",i=n.endsWith("/")?n.slice(0,-1):n;function o(){let{publicKey:e,connected:t}=(0,l.O)();(0,a.useMemo)(()=>e?e.toBase58():"",[e]);let[r,n]=(0,a.useState)(""),[o,c]=(0,a.useState)(""),[u,d]=(0,a.useState)(""),[x,p]=(0,a.useState)(""),[h,m]=(0,a.useState)(""),[b,f]=(0,a.useState)("1000000"),[v,g]=(0,a.useState)("video"),[w,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)(""),[P,q]=(0,a.useState)("");async function k(e){e.preventDefault(),y(!0),N(""),q("");try{let e={ownerPublicKey:r,title:o,description:u,videoUrl:x,thumbnailUrl:h,lamportsPerSecond:Number(b),contentType:v},t=await fetch(`${i}/videos`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();if(!t.ok)throw Error(s?.error||"Submission failed");N("Your video is pending admin approval."),c(""),d(""),p(""),m(""),f("")}catch(e){q(e.message||"Submission failed")}finally{y(!1)}}return s.jsx("div",{className:"max-w-2xl mx-auto px-6",children:(0,s.jsxs)("div",{className:"bg-neutral-900/60 border border-neutral-800 rounded-xl p-6 shadow-lg",children:[s.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Submit a Video"}),s.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Provide a hosted video URL and thumbnail, plus a price in lamports per second."}),s.jsx("div",{className:"mb-4 text-sm text-gray-400",children:"Paste your public key below."}),(0,s.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Owner Public Key"}),s.jsx("input",{className:"w-full bg-black/30 border border-neutral-800 rounded px-3 py-2 text-sm outline-none focus:border-neutral-600",value:r,onChange:e=>n(e.target.value),placeholder:"Paste your wallet address",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Title"}),s.jsx("input",{className:"w-full bg-black/30 border border-neutral-800 rounded px-3 py-2 text-sm outline-none focus:border-neutral-600",value:o,onChange:e=>c(e.target.value),required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Description"}),s.jsx("textarea",{className:"w-full bg-black/30 border border-neutral-800 rounded px-3 py-2 text-sm outline-none focus:border-neutral-600",rows:3,value:u,onChange:e=>d(e.target.value)})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Content Type"}),(0,s.jsxs)("select",{className:"w-full bg-black/30 border border-neutral-800 rounded px-3 py-2 text-sm outline-none focus:border-neutral-600",value:v,onChange:e=>g(e.target.value),children:[s.jsx("option",{value:"video",children:"Video (VOD)"}),s.jsx("option",{value:"live",children:"Livestream"}),s.jsx("option",{value:"movie",children:"Movie"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"live"===v?"Paste your YouTube Live or Twitch embed URL":"movie"===v?"Full-length film or long-form content":"Pre-recorded video content"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Video URL"}),s.jsx("input",{className:"w-full bg-black/30 border border-neutral-800 rounded px-3 py-2 text-sm outline-none focus:border-neutral-600",type:"url",value:x,onChange:e=>(function(e){p(e);let t=function(e){try{let t=new URL(e);if("youtu.be"===t.hostname)return t.pathname.slice(1).split("?")[0];if(t.hostname.includes("youtube.com")){if(t.pathname.startsWith("/embed/"))return t.pathname.split("/embed/")[1].split("/")[0];if(t.searchParams.get("v"))return t.searchParams.get("v")}}catch{}return null}(e);if(t){let e=`https://www.youtube.com/embed/${t}`,r=`https://img.youtube.com/vi/${t}/hqdefault.jpg`;p(e),h||m(r);return}let r=function(e){try{let t=new URL(e);if(t.hostname.includes("twitch.tv")){if("player.twitch.tv"===t.hostname)return t.searchParams.get("channel")||null;let e=t.pathname.split("/").filter(Boolean);if(e.length>0)return e[0]}}catch{}return null}(e);if(r){let e=window.location.hostname||"flow402.dev";p(`https://player.twitch.tv/?channel=${r}&parent=${e}`);return}})(e.target.value),required:!0,placeholder:"https://youtu.be/... or https://www.youtube.com/embed/VIDEO_ID or https://player.vimeo.com/..."})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Thumbnail URL"}),s.jsx("input",{className:"w-full bg-black/30 border border-neutral-800 rounded px-3 py-2 text-sm outline-none focus:border-neutral-600",type:"url",value:h,onChange:e=>m(e.target.value),required:!0,placeholder:"https://..."})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Price (fixed)"}),s.jsx("input",{className:"w-full bg-black/30 border border-neutral-800 rounded px-3 py-2 text-sm outline-none focus:border-neutral-600",type:"text",value:"1,000,000 lamports/s (10 FLOW/s)",readOnly:!0})]}),s.jsx("button",{type:"submit",disabled:w,className:"w-full bg-white text-black font-medium rounded px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Submitting...":"Submit"}),j&&s.jsx("div",{className:"text-green-400 text-sm",children:j}),P&&s.jsx("div",{className:"text-red-400 text-sm",children:P})]})]})})}},9643:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var s=r(326),a=r(9495),l=r(7761),n=r(6273),i=r(4932),o=r(888);function c({children:e}){let t=[new i.O,new o.e];return s.jsx(a.U,{endpoint:"https://api.devnet.solana.com",children:s.jsx(l.n,{wallets:t,autoConnect:!0,children:s.jsx(n.s,{children:e})})})}r(6457)},5242:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>i});var s=r(8570);let a=(0,s.createProxy)(String.raw`/Users/thewizardofhahz/flow402/app/create/page.jsx`),{__esModule:l,$$typeof:n}=a;a.default;let i=(0,s.createProxy)(String.raw`/Users/thewizardofhahz/flow402/app/create/page.jsx#default`)},2846:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>c});var s=r(9510);r(7633);var a=r(8570);let l=(0,a.createProxy)(String.raw`/Users/thewizardofhahz/flow402/app/providers.jsx`),{__esModule:n,$$typeof:i}=l;l.default;let o=(0,a.createProxy)(String.raw`/Users/thewizardofhahz/flow402/app/providers.jsx#default`),c={title:"WEB5DTV.",description:"PPS (pay-per-second) streaming via HTTP 402 + Solana devnet.",icons:{icon:"/favicon-32x32.png"}};function u({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:"bg-gradient-to-b from-black via-[#0a0a0a] to-black text-white antialiased",children:(0,s.jsxs)(o,{children:[s.jsx(d,{}),s.jsx("div",{className:"pt-20",children:e})]})})})}function d(){return s.jsx("header",{className:"fixed top-0 left-0 right-0 z-20 border-b bg-black/40 backdrop-blur-md border-neutral-800",children:(0,s.jsxs)("nav",{className:"flex items-center justify-between px-6 py-4 mx-auto max-w-7xl",children:[(0,s.jsxs)("a",{href:"https://x402.hahz.live",className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-300 shadow-[0_0_12px_rgba(255,255,255,0.3)]"}),s.jsx("span",{className:"font-semibold tracking-tight",children:"WEB5DTV."})]}),(0,s.jsxs)("div",{className:"flex items-center gap-6 text-sm text-gray-300",children:[s.jsx("a",{href:"/create",className:"transition hover:text-white",children:"Create"}),s.jsx("a",{href:"https://hahz.live",target:"_blank",rel:"noreferrer",className:"transition hover:text-white",children:"Subscribe"}),s.jsx("a",{href:"https://app.luvnft.com",target:"_blank",rel:"noreferrer",className:"flex items-center transition hover:text-white","aria-label":"LUV NFT",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:s.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5    2 6.42 3.42 5 5.5 5c1.54 0 3.04.99 3.57 2.36h1.87   C13.46 5.99 14.96 5 16.5 5    18.58 5 20 6.42 20 8.5   c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})})})]})]})})}},7633:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[200],()=>r(8050));module.exports=s})();